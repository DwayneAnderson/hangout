(this.webpackJsonpyhatzee=this.webpackJsonpyhatzee||[]).push([[0],[,,,,,,,function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(6),r=t.n(c),u=t(2),o=t(1),s=(t(12),function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),f=i[0],b=i[1];return l.a.createElement("div",{className:"Players"},l.a.createElement("h1",null,"Players"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r([].concat(Object(u.a)(c),[f])),b("")}},l.a.createElement("input",{name:"player",value:f,placeholder:"Player ".concat(c.length+1),onChange:function(e){b(e.target.value)}}),l.a.createElement("button",{type:"submit"},"Add Player")),l.a.createElement("ul",null,c.map((function(e){return l.a.createElement("li",{key:e},e)}))),l.a.createElement("button",{onClick:function(){e.startGame(c)}},"start game"))}),i=(t(13),function(e){var a=e.rolling,t=e.value,n=e.saved,c=e.onClick;return a&&!n?l.a.createElement("div",{className:"Die Die-Rolling"}):l.a.createElement("div",{className:"Die Die-".concat(t," ").concat(n?"saved":""),onClick:c},t)}),f=(t(14),function(e){var a=e.dice,t=e.players,c=e.currentPlayerIndex,r=e.updateLog,s=e.rollIndex,f=e.turns,b=Object(n.useState)(!0),m=Object(o.a)(b,2),d=m[0],v=m[1],y=a.map((function(e){return e.value}));Object(n.useEffect)((function(){r("".concat(t[c]," rolled ").concat(y.join(", "))),v(!0),setTimeout((function(){v(!1)}),500)}),[s,c,f]);return l.a.createElement("div",{className:"Dice"},a.map((function(t,n){return l.a.createElement(i,{key:n,value:t.value,saved:t.saved,rolling:d,onClick:function(){!function(t){var n=Object(u.a)(a);n[t].saved=!n[t].saved,e.setDice(n)}(n)}})})))}),b=t(3),m=(t(15),[{key:"ones",label:"Ones",assignable:!0,calculate:function(e){return e.filter((function(e){return 1===e.value})).length||0}},{key:"twos",label:"Twos",assignable:!0,calculate:function(e){return 2*e.filter((function(e){return 2===e.value})).length||0}},{key:"threes",label:"Threes",assignable:!0,calculate:function(e){return 3*e.filter((function(e){return 3===e.value})).length||0}},{key:"fours",label:"Fours",assignable:!0,calculate:function(e){return 4*e.filter((function(e){return 4===e.value})).length||0}},{key:"fives",label:"Fives",assignable:!0,calculate:function(e){return 5*e.filter((function(e){return 5===e.value})).length||0}},{key:"sixes",label:"Sixes",assignable:!0,calculate:function(e){return 6*e.filter((function(e){return 6===e.value})).length||0}},{key:"totalTop",label:"Total 1-6",assignable:!1},{key:"bonusTop",label:"Top Bonus",assignable:!1},{key:"threeOfKind",label:"3 of Kind",assignable:!0,calculate:function(e){var a=e.map((function(e){return e.value})).sort(),t={};return a.forEach((function(e){return t[e]=t[e]?t[e]+1:1})),Math.max.apply(Math,Object(u.a)(Object.keys(t).map((function(e){return t[e]}))))>=3?a.reduce((function(e,a){return e+a}),0):0}},{key:"fourOfKind",label:"4 of Kind",assignable:!0,calculate:function(e){var a=e.map((function(e){return e.value})).sort(),t={};return a.forEach((function(e){return t[e]=t[e]?t[e]+1:1})),Math.max.apply(Math,Object(u.a)(Object.keys(t).map((function(e){return t[e]}))))>=4?a.reduce((function(e,a){return e+a}),0):0}},{key:"fullHouse",label:"Full House",assignable:!0,calculate:function(e){var a=e.map((function(e){return e.value})).sort(),t=Object(u.a)(new Set(a)),n={};return a.forEach((function(e){return n[e]=n[e]?n[e]+1:1})),3===Math.max.apply(Math,Object(u.a)(Object.keys(n).map((function(e){return n[e]}))))&&2===t.length?25:0}},{key:"smallStraight",label:"Small Straight",assignable:!0,calculate:function(e){var a=e.map((function(e){return e.value})).sort(),t=Object(u.a)(new Set(a));return["1234","12345","12346","13456","2345","23456","3456"].indexOf(t.join(""))>-1?30:0}},{key:"largeStraight",label:"Large Straight",assignable:!0,calculate:function(e){var a=e.map((function(e){return e.value})).sort();return["12345","23456"].indexOf(a.join(""))>-1?40:0}},{key:"yhatzee",label:"YHATZEE",assignable:!0,calculate:function(e){var a=e.map((function(e){return e.value}));return 1===Object(u.a)(new Set(a)).length?50:0}},{key:"chance",label:"Chance",assignable:!0,calculate:function(e){return e.map((function(e){return e.value})).reduce((function(e,a){return e+a}),0)}},{key:"bonusYhatzee",label:"YHATZEE Bonus",assignable:!1},{key:"total",label:"Score",assignable:!1}]),d=function(e){var a=e.rollIndex,t=e.players,c=e.currentPlayerIndex,r=e.dice,s=e.turnPlayed,i=e.setTurnPlayed,f=e.scores,d=e.setScores,v=e.turns,y=Object(n.useState)(null),g=Object(o.a)(y,2),h=g[0],p=g[1];Object(n.useEffect)((function(){if(!Object.keys(f).length){var e={};t.forEach((function(a){var t={};m.forEach((function(e){t[e.key]=null,t[e.key]={actual:null,possible:null}})),e[a]=t})),d(e)}}),[t,f,d]),Object(n.useEffect)((function(){if(Object.keys(f).length){var e=t[c];t.filter((function(a){return a!==e})).forEach((function(e){m.forEach((function(a){f[e][a.key].possible=null}))})),m.filter((function(e){return e.assignable})).forEach((function(a){f[e][a.key].possible=a.calculate(r)})),i(!1)}}),[r]);var E=function(a){e.updateLog(a)},O=function(){var e=Object(b.a)({},f),a=e[t[c]];a.totalTop.actual=a.ones.actual+a.twos.actual+a.threes.actual+a.fours.actual+a.fives.actual+a.sixes.actual,a.bonusTop.actual=a.totalTop.actual>=63?35:null,a.total.actual=a.totalTop.actual+a.threeOfKind.actual+a.fourOfKind.actual+a.fullHouse.actual+a.smallStraight.actual+a.largeStraight.actual+a.yhatzee.actual+a.chance.actual+a.bonusTop.actual+a.bonusYhatzee.actual,d(e),E("".concat(t[c]," has a total score of ").concat(a.total.actual))};return Object.keys(f).length?l.a.createElement("div",{className:"Scoreboard"},l.a.createElement("div",{className:"Scoreboard-Scores"},l.a.createElement("div",{className:"Scoreboard-Scores-RowLabels"},l.a.createElement("div",{className:"Scoreboard-Scores-RowLabels-Label"}),m.map((function(e,a){return l.a.createElement("div",{key:a,className:"Scoreboard-Scores-RowLabels-Label"},e.label)}))),t.map((function(e){return l.a.createElement("div",{key:e,className:"Scoreboard-Scores-Column ".concat(e===t[c]?"Scoreboard-Scores-Column--current":"")},l.a.createElement("div",{className:"Scoreboard-Scores-Column-Header"},e),m.map((function(n){return l.a.createElement("div",{key:n.key,player:e,className:"Scoreboard-Scores-Column-Score ".concat(n.assignable?"":"Scoreboard-Scores-Column-Score--unassignable"),onClick:function(){return function(e,n){if(0!==v&&-1!==a&&!s&&e.assignable&&n===t[c]&&null===f[n][e.key].actual){p({row:e,player:n});var l=Object(b.a)({},f),o=r.map((function(e){return e.value}));1===Object(u.a)(new Set(o)).length&&l[n].yhatzee.actual>0&&(l[n].bonusYhatzee.actual+=50),l[n][e.key].actual=l[n][e.key].possible,d(l),E("".concat(t[c]," scored ").concat(l[n][e.key].actual," points on ").concat(e.label)),i(!0),O()}}(n,e)}},null!==f[e][n.key].actual?f[e][n.key].actual:null)})))}))),l.a.createElement("div",{className:"Scoreboard-Buttons"},l.a.createElement("button",{onClick:function(){var e=Object(b.a)({},f),a=h.row;e[h.player][a.key].actual=null,E("".concat(t[c]," removed last score entry")),d(e),O(),i(!1)},disabled:!s},"undo last entry"))):null},v=t(4),y=t.n(v),g=(t(18),function(e){var a=function(){return{saved:!1,value:y.a.random(1,6)}},t=function(){return new Array(5).fill(null).map(a)},c=Object(n.useState)(!1),r=Object(o.a)(c,2),i=r[0],b=r[1],m=Object(n.useState)(!0),v=Object(o.a)(m,2),g=v[0],h=v[1],p=Object(n.useState)([]),E=Object(o.a)(p,2),O=E[0],j=E[1],k=Object(n.useState)(0),S=Object(o.a)(k,2),N=S[0],P=S[1],w=Object(n.useState)(0),T=Object(o.a)(w,2),x=T[0],C=T[1],G=Object(n.useState)(t()),I=Object(o.a)(G,2),L=I[0],D=I[1],z=Object(n.useState)(0),R=Object(o.a)(z,2),H=R[0],M=R[1],A=Object(n.useState)([]),B=Object(o.a)(A,2),K=B[0],Y=B[1],F=Object(n.useState)({}),J=Object(o.a)(F,2),V=J[0],W=J[1],Z=Object(n.useRef)(null);Object(n.useEffect)((function(){O.length&&h(!0)}),[O]),Object(n.useEffect)((function(){g&&O.length&&(H>13*O.length&&(P(-1),q("GAME OVER.")),K.length||q(["Game started with ".concat(O.length," players: ").concat(O.join(", "))]))}),[H,g,O,O.length,K]),Object(n.useEffect)((function(){Z&&Z.current&&(console.log(Z),Z.current.scrollTop=Z.current.scrollHeight)}),[K]);var $=function(){P(H%O.length),M(H+1),Q(!0)},q=function(e){console.log("update log",e),Y((function(a){return[].concat(Object(u.a)(a),[e])}))},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=e?t():Object(u.a)(L).map((function(e){return e.value=e.saved?e.value:y.a.random(1,6),e}));D(a),C(e?0:x+1)};return O.length?l.a.createElement("div",{className:"Game"},l.a.createElement("div",{className:"Game-Playfield"},0===H&&l.a.createElement("div",{className:"Game-Playfield-StartGame"},l.a.createElement("button",{onClick:$},"Player 1 go!")),x>=0&&H>0&&l.a.createElement("div",{className:"Game-Playfield-Fragment"},l.a.createElement("div",{className:"Game-Playfield-TurnIndicator ".concat(2===x?"last":"")},l.a.createElement("div",{className:"Game-Playfield-TurnIndicator-Player"},"".concat(O[N],"'s turn")),l.a.createElement("div",{className:"Game-Playfield-TurnIndicator-Roll"},"Roll # ".concat(x+1))),l.a.createElement("div",{className:"Game-Playfield-Dice"},l.a.createElement(f,{turns:H,players:O,currentPlayerIndex:N,rollIndex:x,setDice:D,dice:L,updateLog:q})),l.a.createElement("div",{className:"Game-Playfield-Buttons"},l.a.createElement("button",{onClick:function(){return Q(!1)},disabled:x>1||i},"roll again!"),l.a.createElement("button",{onClick:$,disabled:!i||13*O.length===H},"next turn!"))),l.a.createElement("div",{className:"Game-Playfield-Log"},l.a.createElement("textarea",{ref:Z,defaultValue:K.join("\n")}))),g&&l.a.createElement("div",{className:"Game-Scoreboard"},l.a.createElement(d,{turns:H,scores:V,setScores:W,turnPlayed:i,setTurnPlayed:b,setTurns:M,rollIndex:x,players:O,currentPlayerIndex:N,dice:L,log:K,updateLog:q}))):l.a.createElement(s,{startGame:function(e){j(e)}})}),h=(t(19),function(e){return l.a.createElement("div",{className:"App"},l.a.createElement(g,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.11c0f78a.chunk.js.map